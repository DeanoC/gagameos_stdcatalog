bank:
- address: '0xfd0c0100'
  name: SATA_AHCI_PORT0_CNTRL
- address: '0xfd0c0180'
  name: SATA_AHCI_PORT1_CNTRL
description: SATA AHCI Port 0 Control
register:
- default: '0x00000000'
  description: Port x Command List Base Address (PxCLB)
  field:
  - bits: '31:10'
    longdesc: This base is used when fetching commands to execute. The structure pointed
      to by this address range is 1K-bytes in length. This address must be 1K-byte
      aligned as indicated by bits 09:00 being read only.
    name: CLB
    shortdesc: 'Command List Base Address (CLB): Indicates the 32-bit base physical
      address for the command list for this port.'
    type: rw
  - bits: '9:0'
    name: RESERVED
    type: ro
  name: PXCLB
  offset: '0x00000000'
  type: mixed
  width: 32
- default: '0x00000000'
  description: Port x Command List Base Address Upper 32-bits (PxCLBU)
  field:
  - bits: '31:0'
    longdesc: This base is used when fetching commands to execute. This register shall
      be read only '0' for HBAs that do not support 64-bit addressing.
    name: CLBU
    shortdesc: 'Command List Base Address Upper (CLBU): Indicates the upper 32-bits
      for the command list base physical address for this port.'
    type: rw
  name: PXCLBU
  offset: '0x00000004'
  type: rw
  width: 32
- default: '0x00000000'
  description: Port x FIS Base Address (PxFB)
  field:
  - bits: '31:8'
    longdesc: The structure pointed to by this address range is 256 bytes in length.
      This address must be 256-byte aligned as indicated by bits 07:00 being read
      only. When FIS-based switching is in use, this structure is 4KB in length and
      the address shall be 4KB aligned (refer to section 9.3.3).
    name: FB
    shortdesc: 'FIS Base Address (FB): Indicates the 32-bit base physical address
      for received FISes.'
    type: rw
  - bits: '7:0'
    name: RESERVED
    type: ro
  name: PXFB
  offset: '0x00000008'
  type: mixed
  width: 32
- default: '0x00000000'
  description: Port x FIS Base Address Upper 32-bits (PxFBU)
  field:
  - bits: '31:0'
    longdesc: This register shall be read only '0' for HBAs that do not support 64-bit
      addressing.
    name: FBU
    shortdesc: 'FIS Base Address Upper (FBU): Indicates the upper 32-bits for the
      received FIS base physical address for this port.'
    type: rw
  name: PXFBU
  offset: '0x0000000C'
  type: rw
  width: 32
- default: '0x00000000'
  description: Port x Interupt Status (PxIS)
  field:
  - bits: '31'
    longdesc: This bit can either be set due to a non-connected port receiving a device,
      or a connected port having its device removed. This bit is only valid if the
      port supports cold presence detect as indicated by PxCMD.CPD set to '1'.
    name: CPDS
    shortdesc: 'Cold Port Detect Status (CPDS): When set, a device status has changed
      as detected by the cold presence detect logic.'
    type: wtc
  - bits: '30'
    name: TFES
    type: wtc
  - bits: '29'
    longdesc: In PCI, such an indication would be a target or master abort.
    name: HBFS
    shortdesc: 'Host Bus Fatal Error Status (HBFS): Indicates that the HBA encountered
      a host bus error that it cannot recover from, such as a bad software pointer.'
    type: wtc
  - bits: '28'
    name: HBDS
    type: wtc
  - bits: '27'
    longdesc: Refer to section 6.1.2.
    name: IFS
    shortdesc: 'Interface Fatal Error Status (IFS): Indicates that the HBA encountered
      an error on the Serial ATA interface which caused the transfer to stop.'
    type: wtc
  - bits: '26'
    longdesc: Refer to section 6.1.2.
    name: INFS
    shortdesc: 'Interface Non-fatal Error Status (INFS): Indicates that the HBA encountered
      an error on the Serial ATA interface but was able to continue operation.'
    type: wtc
  - bits: '25'
    name: RESERVED
    type: ro
  - bits: '24'
    name: OFS
    type: wtc
  - bits: '23'
    longdesc: The IPMS bit may be set during enumeration of devices on a Port Multiplier
      due to the normal Port Multiplier enumeration process. It is recommended that
      IPMS only be used after enumeration is complete on the Port Multiplier. IPMS
      is not set when an asynchronous notification is received (a Set Device Bits
      FIS with the Notification 'N' bit set to '1').
    name: IPMS
    shortdesc: 'Incorrect Port Multiplier Status (IPMS): Indicates that the HBA received
      a FIS from a device that did not have a command outstanding.'
    type: wtc
  - bits: '22'
    longdesc: This bit reflects the state of PxSERR.DIAG.N. To clear this bit, software
      must clear PxSERR.DIAG.N to '0'.
    name: PRCS
    shortdesc: 'PhyRdy Change Status (PRCS): When set to ''1'' indicates the internal
      PhyRdy signal changed state.'
    type: ro
  - bits: '21:8'
    name: RESERVED
    type: ro
  - bits: '7'
    longdesc: This bit is only valid if both CAP.SMPS and PxCMD.MPSP are set to '1'.
    name: DMPS
    shortdesc: 'Device Mechanical Presence Status (DMPS): When set, indicates that
      a mechanical presence switch associated with this port has been opened or closed,
      which may lead to a change in the connection state of the device.'
    type: wtc
  - bits: '6'
    longdesc: 0=No change in Current Connect Status. This bit reflects the state of
      PxSERR.DIAG.X. This bit is only cleared when PxSERR.DIAG.X is cleared.
    name: PCS
    shortdesc: 'Port Connect Change Status (PCS): 1=Change in Current Connect Status.'
    type: ro
  - bits: '5'
    longdesc: Refer to section 5.4.2.
    name: DPS
    shortdesc: 'Descriptor Processed (DPS): A PRD with the ''I'' bit set has transferred
      all of its data.'
    type: wtc
  - bits: '4'
    longdesc: This bit is cleared to '0' by software clearing the PxSERR.DIAG.F bit
      to '0'. Note that this bit does not directly reflect the PxSERR.DIAG.F bit.
      PxSERR.DIAG.F is set immediately when an unknown FIS is detected, whereas this
      bit is set when that FIS is posted to memory. Software should wait to act on
      an unknown FIS until this bit is set to '1' or the two bits may become out of
      sync.
    name: UFS
    shortdesc: 'Unknown FIS Interrupt (UFS): When set to ''1'', indicates that an
      unknown FIS was received and has been copied into system memory.'
    type: ro
  - bits: '3'
    name: SDBS
    type: wtc
  - bits: '2'
    name: DSS
    type: wtc
  - bits: '1'
    longdesc: This bit shall be set even if the data transfer resulted in an error.
    name: PSS
    shortdesc: 'PIO Setup FIS Interrupt (PSS): A PIO Setup FIS has been received with
      the ''I'' bit set, it has been copied into system memory, and the data related
      to that FIS has been transferred.'
    type: wtc
  - bits: '0'
    name: DHRS
    type: wtc
  name: PXIS
  offset: '0x00000010'
  type: mixed
  width: 32
- default: '0x00000000'
  description: 'Port x Interrupt Enable (PxIE): This register enables and disables
    the reporting of the corresponding interrupt to system software. When a bit is
    set (''1'') and the corresponding interrupt condition is active, then an interrupt
    is generated. Interrupt sources that are disabled (''0'') are still reflected
    in the status registers. This register is symmetrical with the PxIS register.'
  field:
  - bits: '31'
    longdesc: IE is set, and PxS.CPDS is set, the HBA shall generate an interrupt.
      For systems that do not support cold presence detect, this bit shall be a read-only
      '0'.
    name: CPDE
    shortdesc: 'Cold Presence Detect Enable (CPDE): When set, GHC.'
    type: rw
  - bits: '30'
    longdesc: IE is set, and PxS.TFES is set, the HBA shall generate an interrupt.
    name: TFEE
    shortdesc: 'Task File Error Enable (TFEE): When set, GHC.'
    type: rw
  - bits: '29'
    longdesc: IE is set, and PxIS.HBFS is set, the HBA shall generate an interrupt.
    name: HBFE
    shortdesc: 'Host Bus Fatal Error Enable (HBFE): When set, GHC.'
    type: rw
  - bits: '28'
    longdesc: IE is set, and PxIS.HBDS is set, the HBA shall generate an interrupt.
    name: HBDE
    shortdesc: 'Host Bus Data Error Enable (HBDE): when set, GHC.'
    type: rw
  - bits: '27'
    longdesc: IE is set, and PxIS.IFS is set, the HBA shall generate an interrupt.
    name: IFE
    shortdesc: 'Interface Fatal Error Enable (IFE): When set, GHC.'
    type: rw
  - bits: '26'
    longdesc: IE is set, and PxIS.INFS is set, the HBA shall generate an interrupt.
    name: INFE
    shortdesc: 'Interface Non-fatal Error Enable (INFE): When set, GHC.'
    type: rw
  - bits: '25'
    name: RESERVED
    type: ro
  - bits: '24'
    longdesc: IE and PxIS.OFS are set, the HBA shall generate an interupt.
    name: OFE
    shortdesc: 'Overflow Enable (OFE): When set, and GHC.'
    type: rw
  - bits: '23'
    longdesc: IE and PxIS.IPMS are set, the HBA shall generate an interupt.
    name: IPME
    shortdesc: 'Incorrect Port Multiplier Enable (IPME): When set, and GHC.'
    type: rw
  - bits: '22'
    longdesc: IE is set to '1', and PxIS.PRCS is set to '1', the HBA shall generate
      an interrupt.
    name: PRCE
    shortdesc: 'PhyRdy Change Interrupt Enable (PRCE): When set to ''1'', and GHC.'
    type: rw
  - bits: '21:8'
    name: RESERVED
    type: ro
  - bits: '7'
    longdesc: IE is set to '1', and PxIS.DMPS is set, the HBA shall generate an interrupt.
      For systems that do not support a mechanical presence switch, this bit shall
      be a read-only '0'.
    name: DMPE
    shortdesc: 'Device Mechanical Presence Enable (DMPE): When set, and GHC.'
    type: rw
  - bits: '6'
    longdesc: IE is set, and PxIS.PCS is set, the HBA shall generate an interrupt.
    name: PCE
    shortdesc: 'Port Change Interrupt Enable (PCE): When set, GHC.'
    type: rw
  - bits: '5'
    longdesc: IE is set, and PxIS.DPS is set, the HBA shall generate an interrupt.
    name: DPE
    shortdesc: 'Descriptor Processed Interrupt Enable (DPE): When set, GHC.'
    type: rw
  - bits: '4'
    longdesc: IE is set, and PxIS.UFS is set to '1', the HBA shall generate an interrupt.
    name: UFE
    shortdesc: 'Unknown FIS Interrupt Enable (UFE): When set, GHC.'
    type: rw
  - bits: '3'
    longdesc: IE is set, and PxIS.SDBS is set, the HBA shall generate an interrupt.
    name: SDBE
    shortdesc: 'Set Device Bits FIS Interrupt Enable (SDBE): When set, GHC.'
    type: rw
  - bits: '2'
    longdesc: IE is set, and PxIS.DSS is set, the HBA shall generate an interrupt.
    name: DSE
    shortdesc: 'DMA Setup FIS Interrupt Enable (DSE): When set, GHC.'
    type: rw
  - bits: '1'
    longdesc: IE is set, and PxIS.PSS is set, the HBA shall generate an interrupt.
    name: PSE
    shortdesc: 'PIO Setup FIS Interrupt Enable (PSE): When set, GHC.'
    type: rw
  - bits: '0'
    longdesc: IE is set, and PxIS.DHRS is set, the HBA shall generate an interrupt.
    name: DHRE
    shortdesc: 'Device to Host Register FIS Interrupt Enable (DHRE): When set, GHC.'
    type: rw
  name: PXIE
  offset: '0x00000014'
  type: mixed
  width: 32
- default: '0x00400000'
  description: Port x Command and Status (PxCMD)
  field:
  - bits: '31:28'
    longdesc: If the Link layer is currently in the L_IDLE state or L_NoCommPower
      state, writes to this field shall cause the HBA to initiate a transition to
      the interface power management state requested. If the Link layer is not currently
      in the L_IDLE state or L_NoCommPower state, writes to this field shall have
      no effect. When system software writes a non-reserved value other than No-Op
      (0h), the HBA shall perform the actions described above (for the value written)
      and update this field back to Idle (0h). If software writes to this field to
      change the state to a state the link is already in (i.e. interface is in the
      active state and a request is made to go to the active state), the HBA shall
      take no action and return this field to Idle. If the interface is in a low power
      state and software wants to transition to a different low power state, software
      must first bring the link to active and then initiate the transition to the
      desired low power state. If CAPS2.DESO is cleared to '0', transition to DevSleep
      may occur from any other interface state. If CAP2.DESO is set to '1', then DevSleep
      may only be transitioned to if the interface is in Slumber.
    name: ICC
    shortdesc: 'Interface Communication Control (ICC): This field is used to control
      power management states of the interface.'
    type: rw
  - bits: '27'
    longdesc: When cleared, and ALPE is set, the HBA shall aggressively enter the
      Partial state when it clears the PxCI register and the PxSACT register is cleared
      or when it clears the PxSACT register and PxCI is cleared. If CAP.SALP is cleared
      to '0' software shall treat this bit as reserved. See section 8.3.1.3 for details.
    name: ASP
    shortdesc: 'Aggressive Slumber / Partial (ASP): When set to ''1'', and ALPE is
      set, the HBA shall aggressively enter the Slumber state when it clears the PxCI
      register and the PxSACT register is cleared or when it clears the PxSACT register
      and PxCI is cleared.'
    type: rw
  - bits: '26'
    longdesc: Software shall only set this bit to '1' if CAP.SALP is set to '1'; if
      CAP.SALP is cleared to '0' software shall treat this bit as reserved. See section
      8.3.1.3 for details.
    name: ALPE
    shortdesc: 'Aggressive Link Power Management Enable (ALPE): When set to ''1'',
      the HBA shall aggressively enter a lower link power state (Partial or Slumber)
      based upon the setting of the ASP bit.'
    type: rw
  - bits: '25'
    longdesc: ATAPI. When cleared, the HBA shall only drive the LED pin active for
      commands if PxCMD.ATAPI set to '0'. See section 10.11 for details on the activity
      LED.
    name: DLAE
    shortdesc: 'Drive LED on ATAPI Enable (DLAE): When set to ''1'', the HBA shall
      drive the LED pin active for commands regardless of the state of PxCMD.'
    type: rw
  - bits: '24'
    longdesc: This bit is used by the HBA to control whether or not to generate the
      desktop LED when commands are active. See section 10.11 for details on the activity
      LED.
    name: ATAPI
    shortdesc: 'Device is ATAPI (ATAPI): When set to ''1'', the connected device is
      an ATAPI device.'
    type: rw
  - bits: '23'
    longdesc: When cleared to '0' the port shall not perform Automatic Partial to
      Slumber Transitions. Software shall only set this bit to '1' if CAP2.APST is
      set to '1'; if CAP2.APST is cleared to '0' software shall treat this bit as
      reserved.
    name: APSTE
    shortdesc: 'Automatic Partial to Slumber Transitions Enabled (APSTE): When set
      to ''1'', the HBA may perform Automatic Partial to Slumber Transitions.'
    type: rw
  - bits: '22'
    longdesc: When cleared to '0', indicates that this port does not support FIS-based
      switching. This bit may only be set to '1' if both CAP.SPM and CAP.FBSS are
      set to '1'.
    name: FBSCP
    shortdesc: 'FIS-based Switching Capable Port (FBSCP): When set to ''1'', indicates
      that this port supports Port Multiplier FIS-based switching.'
    type: ro
  - bits: '21'
    longdesc: g. eSATA connector). When set to '1', CAP.SXS shall be set to '1'. When
      cleared to '0', indicates that this port's signal connector is not externally
      accessible on a signal only connector. ESP is mutually exclusive with the HPCP
      bit in this register. If ESP is set to '1', then the port may experience hot
      plug events.
    name: ESP
    shortdesc: 'External SATA Port (ESP): When set to ''1'', indicates that this port''s
      signal connector is externally accessible on a signal only connector (e.'
    type: ro
  - bits: '20'
    longdesc: If cleared to '0', the platform does not support cold presence detection
      on this port. When this bit is set to '1', PxCMD.HPCP should also be set to
      '1'.
    name: CPD
    shortdesc: 'Cold Presence Detection (CPD): If set to ''1'', the platform supports
      cold presence detection on this port.'
    type: ro
  - bits: '19'
    longdesc: If cleared to '0', the platform does not support a mechanical presence
      switch attached to this port. When this bit is set to '1', PxCMD.HPCP should
      also be set to '1'.
    name: MPSP
    shortdesc: 'Mechanical Presence Switch Attached to Port (MPSP): If set to ''1'',
      the platform supports an mechanical presence switch attached to this port.'
    type: ro
  - bits: '18'
    longdesc: When cleared to '0', indicates that this port's signal and power connectors
      are not externally accessible via a joint signal and power connector. HPCP is
      mutually exclusive with the ESP bit in this register.
    name: HPCP
    shortdesc: 'Hot Plug Capable Port (HPCP): When set to ''1'', indicates that this
      port''s signal and power connectors are externally accessible via a joint signal
      and power connector for blindmate device hot plug.'
    type: ro
  - bits: '17'
    longdesc: SPM = '1'). This bit is read-only for HBAs that do not support a port
      Multiplier (CAP.SPM = '0'). When set to '1' by software, a Port Multiplier is
      attached to the HBA for this port. When cleared to '0' by software, a Port Multiplier
      is not attached to the HBA for this port. Software is responsible for detecting
      whether a Port Multiplier is present; hardware does not auto-detect the presence
      of a Port Multiplier. Software shall only set this bit to '1' when PxCMD.ST
      is cleared to '0'.
    name: PMA
    shortdesc: 'Port Multiplier Attached (PMA): This bit is read/write for HBAs that
      support a Port Multiplier (CAP.'
    type: rw
  - bits: '16'
    longdesc: If CPS is set to '1', then the HBA detects via cold presence that a
      device is attached to this port. If CPS is cleared to '0' , then the HBA detects
      via cold presence that there is no device attached to this port.
    name: CPS
    shortdesc: 'Cold Presence State (CPS): The CPS bit reports whether a device is
      currently detected on this port via cold presence detection.'
    type: ro
  - bits: '15'
    longdesc: See the AHCI state machine in section 5.3.2 for details on when this
      bit is set and cleared by the HBA.
    name: CR
    shortdesc: 'Command List Running (CR): When this bit is set, the command list
      DMA engine for the port is running.'
    type: ro
  - bits: '14'
    longdesc: See section 10.3.2 for details on when this bit is set and cleared by
      the HBA.
    name: FR
    shortdesc: 'FIS Receive Running (FR): When set, the FIS Receive DMA engine for
      the port is running.'
    type: ro
  - bits: '13'
    longdesc: If CAP.SMPS is set to '1' and the mechanical presence switch is closed
      then this bit is cleared to '0'. If CAP.SMPS is set to '1' and the mechanical
      presence switch is open then this bit is set to '1'. If CAP.SMPS is set to '0'
      then this bit is cleared to '0'. Software should only use this bit if both CAP.SMPS
      and PxCMD.MPSP are set to '1'.
    name: MPSS
    shortdesc: 'Mechanical Presence Switch State (MPSS): The MPSS bit reports the
      state of a mechanical presence switch attached to this port.'
    type: ro
  - bits: '12:8'
    longdesc: ST is set to '1' and shall be set to the command slot value of the command
      that is currently being issued by the HBA. When PxCMD.ST transitions from '1'
      to '0', this field shall be reset to '0'. After PxCMD.ST transitions from '0'
      to '1', the highest priority slot to issue from next is command slot 0. After
      the first command has been issued, the highest priority slot to issue from next
      is PxCMD.CCS + 1. For example, after the HBA has issued its first command, if
      CCS = 0h and PxCI is set to 3h, the next command that will be issued is from
      command slot 1.
    name: CCS
    shortdesc: 'Current Command Slot (CCS): This field is valid when PxCMD.'
    type: ro
  - bits: '7:5'
    name: RESERVED
    type: ro
  - bits: '4'
    longdesc: When cleared, received FISes are not accepted by the HBA, except for
      the first D2H register FIS after the initialization sequence, and no FISes are
      posted to the FIS receive area. System software must not set this bit until
      PxFB (PxFBU) have been programmed with a valid pointer to the FIS receive area,
      and if software wishes to move the base, this bit must first be cleared, and
      software must wait for the FR bit in this register to be cleared. Refer to section
      10.3.2 for important restrictions on when FRE can be set and cleared.
    name: FRE
    shortdesc: 'FIS Receive Enable (FRE): When set, the HBA may post received FISes
      into the FIS receive area pointed to by PxFB (and for 64-bit HBAs, PxFBU).'
    type: rw
  - bits: '3'
    longdesc: STS.BSY and PxTFD.STS.DRQ to be cleared to '0'. This allows a software
      reset to be transmitted to the device regardless of whether the BSY and DRQ
      bits are still set in the PxTFD.STS register. The HBA sets this bit to '0' when
      PxTFD.STS.BSY and PxTFD.STS.DRQ have been cleared to '0'. A write to this register
      with a value of '0' shall have no effect. This bit shall only be set to '1'
      immediately prior to setting the PxCMD.ST bit to '1' from a previous value of
      '0'. Setting this bit to '1' at any other time is not supported and will result
      in indeterminate behavior. Software must wait for CLO to be cleared to '0' before
      setting PxCMD.ST to '1'.
    name: CLO
    shortdesc: 'Command List Override (CLO): Setting this bit to ''1'' causes PxTFD.'
    type: rw
  - bits: '2'
    longdesc: CPD set to '1'. This bit is read only '1' for HBAs that do not support
      cold presence detect. When set, the HBA sets the state of a pin on the HBA to
      '1' so that it may be used to provide power to a cold-presence detectable port.
    name: POD
    shortdesc: 'Power On Device (POD): This bit is read/write for HBAs that support
      cold presence detection on this port as indicated by PxCMD.'
    type: ro
  - bits: '1'
    longdesc: SSS. This bit is read only '1' for HBAs that do not support staggered
      spin-up. On an edge detect from '0' to '1', the HBA shall start a COMRESET initializatoin
      sequence to the device. Clearing this bit to '0' does not cause any OOB signal
      to be sent on the interface. When this bit is cleared to '0' and PxSCTL.DET=0h,
      the HBA will enter listen mode as detailed in section 10.10.1.
    name: SUD
    shortdesc: 'Spin-Up Device (SUD): This bit is read/write for HBAs that support
      staggered spin-up via CAP.'
    type: ro
  - bits: '0'
    longdesc: When cleared, the HBA may not process the command list. Whenever this
      bit is changed from a '0' to a '1', the HBA starts processing the command list
      at entry '0'. Whenever this bit is changed from a '1' to a '0', the PxCI register
      is cleared by the HBA upon the HBA putting the controller into an idle state.
      This bit shall only be set to '1' by software after PxCMD.FRE has been set to
      '1'. Refer to section 10.3.1 for important restrictions on when ST can be set
      to '1'.
    name: ST
    shortdesc: 'Start (ST): When set, the HBA may process the command list.'
    type: rw
  name: PXCMD
  offset: '0x00000018'
  type: mixed
  width: 32
- default: '0x0000007F'
  description: 'Port x Task File Data (PxTFD): This is a 32-bit register that copies
    specific fields of the task file when FISes are received. The FISes that contain
    this information are: * D2H Register FIS * PIO Setup FIS * Set Device Bits FIS
    (BSY and DRQ are not updated with this FIS) Status (STS): Contains the latest
    copy of the task file status register. The HBA shall update the entire 8-bit field,
    not just the bits noted above.'
  field:
  - bits: '31:16'
    name: RESERVED
    type: ro
  - bits: '15:8'
    name: ERR
    type: ro
  - bits: '7'
    longdesc: 'BSY: Indicates the interface is busy.'
    name: STS_BSY
    shortdesc: STS.
    type: ro
  - bits: '6:4'
    longdesc: 'CS1: Command specific.'
    name: STS_CS1
    shortdesc: STS.
    type: ro
  - bits: '3'
    longdesc: 'DRQ: Indicates a data transfer is requested.'
    name: STS_DRQ
    shortdesc: STS.
    type: ro
  - bits: '2:1'
    longdesc: 'CS: Command specific.'
    name: STS_CS
    shortdesc: STS.
    type: ro
  - bits: '0'
    longdesc: 'ERR: Indicates an error during the transfer.'
    name: STS_ERR
    shortdesc: STS.
    type: ro
  name: PXTFD
  offset: '0x00000020'
  type: ro
  width: 32
- default: '0xFFFFFFFF'
  description: 'Port x Signature (PxSIG): This is a 32-bit register which contains
    the initial signature of an attached device when the first D2H Register FIS is
    received from that device. It is updated once after a reset sequence.'
  field:
  - bits: '31:0'
    longdesc: 'The bit order is as follows: Bit Field 31:24 LBA High Register 23:16
      LBA Mid Register 15:08 LBA Low Register 07:00 Sector Count Register'
    name: SIG
    shortdesc: 'Signature (SIG): Contains the signature received from a device on
      the first D2H Register FIS.'
    type: ro
  name: PXSIG
  offset: '0x00000024'
  type: ro
  width: 32
- default: '0x00000000'
  description: 'Port x serial ATA Status (SCR0: Sstatus) (PxSSTS): This 32-bit register
    conveys the current state of the interface and host. The HBA updates it continuously
    and asynchronously. When the HBA transmits a COMRESET to the device, this register
    is updated to its reset values.'
  field:
  - bits: '31:12'
    name: RESERVED
    type: ro
  - bits: '11:8'
    longdesc: All other values reserved.
    name: IPM
    shortdesc: 'Interface Power Management (IPM): Indicates the current interface
      state.'
    type: ro
  - bits: '7:4'
    longdesc: All other values reserved
    name: SPD
    shortdesc: 'Current Interface Speed (SPD): Indicates the negotiated interface
      communication speed.'
    type: ro
  - bits: '3:0'
    longdesc: All other values reserved. * The means by which the implementation determines
      device presence may be vendor specific. However, device presence shall always
      be indicated anytime a COMINIT signal is received.
    name: DET
    shortdesc: 'Device Detection (DET): Indicates the interface device detection and
      Phy state*.'
    type: ro
  name: PXSSTS
  offset: '0x00000028'
  type: ro
  width: 32
- default: '0x00000300'
  description: 'Port x Serial ATA Control (SCR2: SControl) (PxSCTL): This is a 32-bit
    read-write register by which software controls SATA capabilities. Writes to this
    register result in an action being taken by the host adapter or interface. Reads
    from the register return the last value written to it.'
  field:
  - bits: '31:20'
    name: RESERVED
    type: ro
  - bits: '19:16'
    name: PMP
    type: ro
  - bits: '15:12'
    name: SPM
    type: ro
  - bits: '11:8'
    longdesc: If an interface power management state is disabled, the HBA is not allowed
      to initiate that state and the HBA must PMNAKP any request from the device to
      enter that state. All other values reserved.
    name: IPM
    shortdesc: 'Interface Power Management Transitions Allowed (IPM): Indicates which
      power states the HBA is allowed to transition to.'
    type: rw
  - bits: '7:4'
    longdesc: All other values reserved.
    name: SPD
    shortdesc: 'Speed Allowed (SPD): Indicates the highest allowable speed of the
      interface.'
    type: rw
  - bits: '3:0'
    longdesc: 'All other values reserved. This field may only be modified when PxCMD.ST
      is ''0''. Changing this field while the PxCMD.ST bit is set to ''1'' results
      in undefined behavior. When PxCMD.ST is set to ''1'', this field should have
      a value of 0h. Note: It is permissible to implement any of the Serial ATA defined
      behaviors for transmission of COMRESET when DET=1h.'
    name: DET
    shortdesc: 'Device Detection Initialization (DET): Controls the HBA''s device
      detection and interface initialization.'
    type: rw
  name: PXSCTL
  offset: '0x0000002C'
  type: mixed
  width: 32
- default: '0x00000000'
  description: 'Port x Serial ATA Error (SCR1: SError) (PxSERR): Error (ERR)- The
    ERR field contains error information for use by host software in determining the
    appropriate response to the error condition. Diagnostics (DIAG) - Contains diagnostic
    error information for use by diagnostic software in validating correct operation
    or isolating failure modes:'
  field:
  - bits: '31:27'
    name: RESERVED
    type: wtc
  - bits: '26'
    longdesc: The means by which the implementation determines that the device presence
      has changed is vendor specific. This bit shall always be set to one anytime
      a COMINIT signal is received. This bit is reflected in the PxIS.PCS bit.
    name: DIAG_X
    shortdesc: 'Exchanged (X): When set to one this bit indicates that a change in
      device presence has been detected since the last time this bit was cleared.'
    type: wtc
  - bits: '25'
    name: DIAG_F
    type: wtc
  - bits: '24'
    name: DIAG_T
    type: wtc
  - bits: '23'
    longdesc: The Link Layer state machine defines the conditions under which the
      link layer detects an erroneous transition.
    name: DIAG_S
    shortdesc: 'Link Sequence Error (S): Indicates that one or more Link state machine
      error conditions was encountered.'
    type: wtc
  - bits: '22'
    longdesc: Such errors may be the result of a CRC error detected by the recipient,
      a disparity or 8b/10b decoding error, or other error condition leading to a
      negative handshake on a transmitted frame.
    name: DIAG_H
    shortdesc: 'Handshake Error (H): Indicates that one or more R_ERR handshake response
      was received in response to frame transmission.'
    type: wtc
  - bits: '21'
    name: DIAG_C
    type: wtc
  - bits: '20'
    name: DIAG_D
    type: wtc
  - bits: '19'
    name: DIAG_B
    type: wtc
  - bits: '18'
    name: DIAG_W
    type: wtc
  - bits: '17'
    name: DIAG_I
    type: wtc
  - bits: '16'
    longdesc: This bit is reflected in the PxIS.PRCS bit.
    name: DIAG_N
    shortdesc: 'PhyRdy Change (N): Indicates that the PhyRdy signal changed state.'
    type: wtc
  - bits: '15:12'
    name: RESERVED
    type: wtc
  - bits: '11'
    longdesc: The internal error may include a master or target abort when attempting
      to access system memory, an elasticity buffer overflow, a primitive mis-alignment,
      a synchronization FIFO overflow, and other internal error conditions. Typically
      when an internal error occurs, a non-fatal or fatal status bit in the PxIS register
      will also be set to give software guidance on the recovery mechanism required.
    name: ERR_E
    shortdesc: 'Internal Error (E): The host bus adapter experienced an internal error
      that caused the operation to fail and may have put the host bus adapter into
      an error state.'
    type: wtc
  - bits: '10'
    name: ERR_P
    type: wtc
  - bits: '9'
    longdesc: Persistent communications errors may arise from faulty interconnect
      with the device, from a device that has been removed or has failed, or a number
      of other causes.
    name: ERR_C
    shortdesc: 'Persistent Communication or Data Integrity Error (C): A communication
      error that was not recovered occurred that is expected to be persistent.'
    type: wtc
  - bits: '8'
    name: ERR_T
    type: wtc
  - bits: '7:2'
    name: RESERVED
    type: wtc
  - bits: '1'
    longdesc: This can arise from a device temporarily being removed, from a temporary
      loss of Phy synchronization, or from other causes and may be derived from the
      PhyNRdy signal between the Phy and Link layers.
    name: ERR_M
    shortdesc: 'Recovered Communications Error (M): Communications between the device
      and host was temporarily lost but was re-established.'
    type: wtc
  - bits: '0'
    name: ERR_I
    type: wtc
  name: PXSERR
  offset: '0x00000030'
  type: wtc
  width: 32
- default: '0x00000000'
  description: 'Port x Serial ATA Active (SCR3: SActive) (PxSACT)'
  field:
  - bits: '31:0'
    longdesc: Each bit corresponds to the TAG and command slot of a native queued
      command, where bit 0 corresponds to TAG 0 and command slot 0. This field is
      set by software prior to issuing a native queued command for a particular command
      slot. Prior to writing PxCI[TAG] to '1', software will set DS[TAG] to '1' to
      indicate that a command with that TAG is outstanding. The device clears bits
      in this field by sending a Set Device Bits FIS to the host. The HBA clears bits
      in this field that are set to '1' in the SActive field of the Set Device Bits
      FIS. The HBA only clears bits that correspond to native queued commands that
      have completed successfully. Software should only write this field when PxCMD.ST
      is set to '1'. This field is cleared when PxCMD.ST is written from a '1' to
      a '0' by software. This field is not cleared by a COMRESET or a software reset.
    name: DS
    shortdesc: 'Device Status (DS): This field is bit significant.'
    type: rw
  name: PXSACT
  offset: '0x00000034'
  type: rw
  width: 32
- default: '0x00000000'
  description: 'PxCI: Port x Command Issue'
  field:
  - bits: '31:0'
    longdesc: Each bit corresponds to a command slot, where bit 0 corresponds to command
      slot 0. This field is set by software to indicate to the HBA that a command
      has been built in system memory for a command slot and may be sent to the device.
      When the HBA receives a FIS which clears the BSY, DRQ, and ERR bits for the
      command, it clears the corresponding bit in this register for that command slot.
      Bits in this field shall only be set to '1' by software when PxCMD.ST is set
      to '1'. This field is also cleared when PxCMD.ST is written from a '1' to a
      '0' by software.
    name: CI
    shortdesc: 'Commands Issued (CI): This field is bit significant.'
    type: rw
  name: PXCI
  offset: '0x00000038'
  type: rw
  width: 32
- default: '0x00000000'
  description: 'Port x Serial ATA Notification (SCR4: SNotification) (PxSNTF): This
    register is used to determine if asynchronous notification events have occurred
    for directly connected devices and devices connected to a Port Multiplier.'
  field:
  - bits: '31:16'
    name: RESERVED
    type: ro
  - bits: '15:0'
    longdesc: PM Port 0h sets bit 0.. PM Port Fh sets bit 15 Individual bits are cleared
      by software writing 1's to the corresponding bit positions. This field is reset
      to default on a HBA Reset, but it is not reset by COMRESET or software reset.
    name: PMN
    shortdesc: 'PM Notify (PMN): This field indicates whether a particular device
      with the corresponding PM Port number issued a Set Device Bits FIS to the host
      with the Notification bit set.'
    type: wtc
  name: PXSNTF
  offset: '0x0000003C'
  type: mixed
  width: 32
- default: '0x00004000'
  description: 'Port x FIS-based Switching Control (PxFBS): This register is used
    to control and obtain status for Port Multiplier FIS-based switching.'
  field:
  - bits: '31:20'
    name: RESERVED
    type: ro
  - bits: '19:16'
    longdesc: This field is only valid when PxFBS.SDE = '1'.
    name: DWE
    shortdesc: 'Device With Error (DWE): Set by hardware to the value of the Port
      Multiplier port number of the device that experienced a fatal error condition.'
    type: ro
  - bits: '15:12'
    longdesc: When there are more devices active than indicated in this field, throughput
      of concurrent traffic may degrade. For optimal performance, software should
      limit the number of active devices based on this value. The minimum value for
      this field shall be 2h, indicating that at least two devices may be active with
      high performance maintained.
    name: ADO
    shortdesc: 'Active Device Optimization (ADO): This register exposes the number
      of active devices that the FIS-based switching implementation has been optimized
      for.'
    type: ro
  - bits: '11:8'
    longdesc: This field enables hardware to know the port the command is to be issued
      to without fetching the command header. Software shall not issue commands to
      multiple Port Multiplier ports on the same write of the PxCI register.
    name: DEV
    shortdesc: 'Device To Issue (DEV): Set by software to the Port Multiplier port
      value of the next command to issue.'
    type: rw
  - bits: '7:3'
    name: RESERVED
    type: ro
  - bits: '2'
    longdesc: DEC functionality. When cleared to '0' and a fatal error condition has
      occurred, the error applies to the entire port and to clear the error PxCMD.ST
      shall be cleared to '0' by software. This bit is cleared on PxFBS.DEC being
      set to '1' or on PxCMD.ST being cleared to '0'.
    name: SDE
    shortdesc: 'Single Device Error (SDE): When set to ''1'' and a fatal error condition
      has occurred, hardware believes the error is localized to one device such that
      software''s first error recovery step should be to utilize the PxFBS.'
    type: ro
  - bits: '1'
    longdesc: When hardware has completed error recovery actions, hardware shall clear
      the bit to '0'. A write of '0' to this bit by software shall have no effect.
      Software shall only set this bit to '1' if PxFBS.EN is set to '1' and PxFBS.SDE
      is set to '1'.
    name: DEC
    shortdesc: 'Device Error Clear (DEC): When set to ''1'' by software, the HBA shall
      clear the device specific error condition and the HBA shall flush any commands
      outstanding for the device that experienced the error, including clearing the
      PxCI and PxSACT bits for that device to ''0''.'
    type: rw
  - bits: '0'
    longdesc: When cleared to '0', FIS-based switching is not being used. Software
      shall only change the value of the EN bit when PxCMD.ST is cleared to '0'.
    name: EN
    shortdesc: 'Enable (EN): When set to ''1'', a Port Multiplier is attached and
      the HBA shall use FIS-based switching to communicate with it.'
    type: rw
  name: PXFBS
  offset: '0x00000040'
  type: mixed
  width: 32
- default: '0x00000002'
  description: PxDEVSLP - Port x Device Sleep
  field:
  - bits: '31:29'
    name: RESERVED
    type: ro
  - bits: '28:25'
    longdesc: A value of 0h indicates a multiplier of 1. A maximum multiplier of 16
      may be applied. The HBA computes the total idle timeout as a product of DM and
      DITO (i.e. DITOactual = DITO * (DM+1)).
    name: DM
    shortdesc: 'DITO Multiplier (DM): 0''s based value that specifies the DITO multiplier
      that the HBA applies to the specified DITO value, effectively extending the
      range of DITO from 1ms to 16368ms.'
    type: ro
  - bits: '24:15'
    longdesc: 'Refer to section 8.5.1.1.1 for details. Hardware reloads its port specific
      Device Sleep timer with this value each time the port transitions out of the
      DEVSLP state. For example: from DevSleep to active or PxDEVSLP.ADSE transitions
      from ''0'' to a ''1''. If CAP2.SDS is cleared to ''0'' or CAP2.SADM is cleared
      to ''0'' or PxDEVSLP.DSP is cleared to ''0'' then these bits are read-only 0h
      and software shall treat these bits as reserved. If CAP2.SDS is set to ''1''
      and CAP2.SADM is set to ''1'' and PxDEVSLP.DSP is set to ''1'' then these bits
      are read-write. Software shall only set this value when PxCMD.ST is cleared
      to ''0'' and PxDEVSLP.ADSE is cleared to ''0''.'
    name: DITO
    shortdesc: 'Device Sleep Idle Timeout (DITO): This field specifies the amount
      of the time (in approximate 1ms granularity) that the HBA shall wait before
      driving the DEVSLP signal.'
    type: rw
  - bits: '14:10'
    longdesc: The nominal value is 10ms and the minimum is 1ms depending on device
      identification information. If CAP2.SDS is cleared to '0' or PxDEVSLP.DSP is
      cleared to '0' then these bits are read-only 0h and software shall treat these
      bits as reserved. If CAP2.SDS is set to '1' and PxDEVSLP.DSP is set to '1' then
      these bits are read-write. Software shall only set this value when PxCMD.ST
      is cleared to '0', PxDEVSLP.ADSE is cleared to '0', and prior to setting PxCMD.ICC
      to 8h.
    name: MDAT
    shortdesc: 'Minimum Device Sleep Assertion Time (MDAT): This field specifies the
      minimum amount of time (in 1ms granularity) that the HBA must assert the DEVSLP
      signal before it may be de-asserted.'
    type: rw
  - bits: '9:2'
    longdesc: The nominal value is 20ms while the max value is 255ms depending on
      device identification information. If CAP2.SDS is cleared to '0' or PxDEVSLP.DSP
      is cleared to '0' then these bits are read-only 0h and software shall treat
      these bits as reserved. If CAP2.SDS is set to '1' and PxDEVSLP.DSP is set to
      '1' then these bits are read-write. Software shall only set this value when
      PxCMD.ST is cleared to '0', PxDEVSLP.ADSE is cleared to '0', and prior to setting
      PxCMD.ICC to 8h.
    name: DETO
    shortdesc: 'Device Sleep Exit Timeout (DETO): This field specifies the maximum
      duration (in approximate 1ms granularity) from DEVSLP de-assertion until the
      device is ready to accept OOB.'
    type: rw
  - bits: '1'
    longdesc: If cleared to '0', the platform does not support Device Sleep on this
      port. This bit may only be set to '1' if CAP2.SDS is set to '1'. DSP is mutually
      exclusive with the PxCMD.HPCP bit and PxCMD.ESP bit.
    name: DSP
    shortdesc: 'Device Sleep Present (DSP): If set to ''1'', the platform supports
      Device Sleep on this port.'
    type: ro
  - bits: '0'
    longdesc: DITO register. When this bit is set to '1' and CAP2.DESO is set to '1',
      the HBA shall assert the DEVSLP signal after the port has been idle (PxCI =
      0h and PxSACT = 0h) for the amount of time specified by PxDEVSLP.DITO and the
      interface is in Slumber (PxSSTS.IPM = 6h).When this bit is cleared to '0', the
      HBA does not enter DevSleep unless software directed via PxCMD.ICC. This bit
      shall only be set to '1' if PxDEVSLP.DSP is set to '1'. If CAP2.SDS is cleared
      to '0' or CAP2.SADM is cleared to '0' or if PxDEVSLP.DSP is cleared to '0',
      then these bits are read-only 0h and software shall treat these bits as reserved.
      If CAP2.SDS is set to '1' and CAP2.SADM is set to '1' and if PxDEVSLP.DSP is
      set to '1', then these bits are read-write.
    name: ADSE
    shortdesc: 'Aggressive Device Sleep Enable (ADSE): When this bit is set to ''1'',
      the HBA shall assert the DEVSLP signal after the port has been idle (PxCI =
      0h and PxSACT = 0h) for the amount of time specified by the PxDEVSLP.'
    type: rw
  name: PXDEVSLP
  offset: '0x00000044'
  type: mixed
  width: 32
- default: '0x00000003'
  description: 'PBERR - Port 0/1 BIST Error. The BIST operation as programmed by the
    SATA must report the operation as passing or failing, This bit is added to reflect
    the status of the BIST operation running in the link layer. Note: All Status Registers
    have no predefined Reset value. The value shown in reset is a typical value that
    will be read after reset but will be dependent on the SERDES status, the actual
    value read can differ from this.'
  field:
  - bits: '31:2'
    name: RESERVED
    type: ro
  - bits: '1'
    longdesc: When the BIST.
    name: BEOS
    shortdesc: 'BIST Error one shot bit (BEOS): 1= BIST operation failed 0 = BIST
      operation passed.'
    type: wtc
  - bits: '0'
    name: BERR
    type: rw
  name: PBERR
  offset: '0x00000070'
  type: mixed
  width: 32
- default: '0x00000002'
  description: 'CMDS - Port 0/1 Command Status Error. The BIST operation as programmed
    by the SATA must report the operation as passing or failing, This bit is added
    to reflect the status of the BIST operation running in the link layer. Note: All
    Status Registers have no predefined Reset value. The value shown in reset is a
    typical value that will be read after reset but will be dependent on the SERDES
    status, the actual value read can differ from this.'
  field:
  - bits: '31:12'
    name: RESERVED
    type: ro
  - bits: '11:8'
    name: CQMS
    type: ro
  - bits: '7:0'
    name: CS
    type: ro
  name: CMDS
  offset: '0x00000074'
  type: ro
  width: 32
